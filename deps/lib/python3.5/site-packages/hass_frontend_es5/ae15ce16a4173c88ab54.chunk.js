(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{144:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return loadCustomPanel});var _common_dom_load_resource__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=!0){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=!0;_e=err}finally{try{if(!_n&&null!=_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var JS_CACHE={};function loadCustomPanel(panelConfig){if(panelConfig.html_url){var toLoad=[__webpack_require__.e(46).then(__webpack_require__.bind(null,269))];if(!panelConfig.embed_iframe){toLoad.push(Promise.all([__webpack_require__.e(66),__webpack_require__.e(47)]).then(__webpack_require__.bind(null,139)))}return Promise.all(toLoad).then(function(_ref){var _ref2=_slicedToArray(_ref,1),importHrefPromise=_ref2[0].importHrefPromise;return importHrefPromise(panelConfig.html_url)})}if(panelConfig.js_url){if(!(panelConfig.js_url in JS_CACHE)){JS_CACHE[panelConfig.js_url]=Object(_common_dom_load_resource__WEBPACK_IMPORTED_MODULE_0__.b)(panelConfig.js_url)}return JS_CACHE[panelConfig.js_url]}if(panelConfig.module_url){return Object(_common_dom_load_resource__WEBPACK_IMPORTED_MODULE_0__.c)(panelConfig.module_url)}return Promise.reject("No valid url found in panel config.")}},145:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return createCustomPanelElement});function createCustomPanelElement(panelConfig){var tagName="html_url"in panelConfig?"ha-panel-".concat(panelConfig.name):panelConfig.name;return document.createElement(tagName)}},146:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return setCustomPanelProperties});function setCustomPanelProperties(root,properties){if("setProperties"in root){root.setProperties(properties)}else{Object.keys(properties).forEach(function(key){root[key]=properties[key]})}}},695:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16),_mixins_navigate_mixin__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82),_util_custom_panel_load_custom_panel__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(144),_util_custom_panel_create_custom_panel_element__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(145),_util_custom_panel_set_custom_panel_properties__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(146);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function(obj){return typeof obj}}else{_typeof=function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(null===object)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HaPanelCustom=function(_NavigateMixin){_inherits(HaPanelCustom,_NavigateMixin);_createClass(HaPanelCustom,null,[{key:"properties",get:function(){return{hass:Object,narrow:Boolean,showMenu:Boolean,route:Object,panel:{type:Object,observer:"_panelChanged"}}}},{key:"observers",get:function(){return["_dataChanged(hass, narrow, showMenu, route)"]}}]);function HaPanelCustom(){var _this;_classCallCheck(this,HaPanelCustom);_this=_possibleConstructorReturn(this,_getPrototypeOf(HaPanelCustom).call(this));_this._setProperties=null;return _this}_createClass(HaPanelCustom,[{key:"_panelChanged",value:function(panel){var _this2=this;delete window.customPanel;this._setProperties=null;while(this.lastChild){this.remove(this.lastChild)}var config=panel.config._panel_custom,tempA=document.createElement("a");tempA.href=config.html_url||config.js_url||config.module_url;if(!config.trust_external&&!["localhost","127.0.0.1",location.hostname].includes(tempA.hostname)){if(!confirm("Do you trust the external panel \"".concat(config.name,"\" at \"").concat(tempA.href,"\"?\n\nIt will have access to all data in Home Assistant.\n\n(Check docs for the panel_custom component to hide this message)"))){return}}if(!config.embed_iframe){Object(_util_custom_panel_load_custom_panel__WEBPACK_IMPORTED_MODULE_3__.a)(config).then(function(){var element=Object(_util_custom_panel_create_custom_panel_element__WEBPACK_IMPORTED_MODULE_4__.a)(config);_this2._setProperties=function(props){return Object(_util_custom_panel_set_custom_panel_properties__WEBPACK_IMPORTED_MODULE_5__.a)(element,props)};Object(_util_custom_panel_set_custom_panel_properties__WEBPACK_IMPORTED_MODULE_5__.a)(element,{panel:panel,hass:_this2.hass,narrow:_this2.narrow,showMenu:_this2.showMenu,route:_this2.route});_this2.appendChild(element)},function(){alert("Unable to load custom panel from ".concat(tempA.href))});return}window.customPanel=this;this.innerHTML="\n    <style>\n      iframe {\n        border: 0;\n        width: 100%;\n        height: 100%;\n        display: block;\n      }\n    </style>\n    <iframe></iframe>\n    ";var iframeDoc=this.querySelector("iframe").contentWindow.document;iframeDoc.open();iframeDoc.write("<script src='".concat(window.customPanelJS,"'></script>"));iframeDoc.close()}},{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(HaPanelCustom.prototype),"disconnectedCallback",this).call(this);delete window.customPanel}},{key:"_dataChanged",value:function(hass,narrow,showMenu,route){if(!this._setProperties)return;this._setProperties({hass:hass,narrow:narrow,showMenu:showMenu,route:route})}},{key:"registerIframe",value:function(initialize,setProperties){initialize(this.panel,{hass:this.hass,narrow:this.narrow,showMenu:this.showMenu,route:this.route});this._setProperties=setProperties}}]);return HaPanelCustom}(Object(_mixins_navigate_mixin__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_1__.a)(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_0__.a)));customElements.define("ha-panel-custom",HaPanelCustom)},83:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return loadCSS});__webpack_require__.d(__webpack_exports__,"b",function(){return loadJS});__webpack_require__.d(__webpack_exports__,"c",function(){return loadModule});function _load(tag,url,type){return new Promise(function(resolve,reject){var element=document.createElement(tag),attr="src",parent="body";element.onload=function(){return resolve(url)};element.onerror=function(){return reject(url)};switch(tag){case"script":element.async=!0;if(type){element.type=type}break;case"link":element.type="text/css";element.rel="stylesheet";attr="href";parent="head";}element[attr]=url;document[parent].appendChild(element)})}var loadCSS=function(url){return _load("link",url)},loadJS=function(url){return _load("script",url)},loadModule=function(url){return _load("script",url,"module")}}}]);
//# sourceMappingURL=ae15ce16a4173c88ab54.chunk.js.map