{"version":3,"file":"b72ee19982c085ddd769.chunk.js","sources":["webpack:///b72ee19982c085ddd769.chunk.js"],"sourcesContent":["(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{144:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",function(){return loadCustomPanel});var _common_dom_load_resource__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83);const JS_CACHE={};function loadCustomPanel(panelConfig){if(panelConfig.html_url){const toLoad=[__webpack_require__.e(47).then(__webpack_require__.bind(null,270))];if(!panelConfig.embed_iframe){toLoad.push(Promise.all([__webpack_require__.e(67),__webpack_require__.e(48)]).then(__webpack_require__.bind(null,139)))}return Promise.all(toLoad).then(([{importHrefPromise}])=>importHrefPromise(panelConfig.html_url))}if(panelConfig.js_url){if(!(panelConfig.js_url in JS_CACHE)){JS_CACHE[panelConfig.js_url]=Object(_common_dom_load_resource__WEBPACK_IMPORTED_MODULE_0__.b)(panelConfig.js_url)}return JS_CACHE[panelConfig.js_url]}if(panelConfig.module_url){return Object(_common_dom_load_resource__WEBPACK_IMPORTED_MODULE_0__.c)(panelConfig.module_url)}return Promise.reject(\"No valid url found in panel config.\")}},145:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",function(){return createCustomPanelElement});function createCustomPanelElement(panelConfig){const tagName=\"html_url\"in panelConfig?`ha-panel-${panelConfig.name}`:panelConfig.name;return document.createElement(tagName)}},146:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",function(){return setCustomPanelProperties});function setCustomPanelProperties(root,properties){if(\"setProperties\"in root){root.setProperties(properties)}else{Object.keys(properties).forEach(key=>{root[key]=properties[key]})}}},694:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var _polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16),_mixins_navigate_mixin__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82),_util_custom_panel_load_custom_panel__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(144),_util_custom_panel_create_custom_panel_element__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(145),_util_custom_panel_set_custom_panel_properties__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(146);class HaPanelCustom extends Object(_mixins_navigate_mixin__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_1__.a)(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_0__.a)){static get properties(){return{hass:Object,narrow:Boolean,showMenu:Boolean,route:Object,panel:{type:Object,observer:\"_panelChanged\"}}}static get observers(){return[\"_dataChanged(hass, narrow, showMenu, route)\"]}constructor(){super();this._setProperties=null}_panelChanged(panel){delete window.customPanel;this._setProperties=null;while(this.lastChild){this.remove(this.lastChild)}const config=panel.config._panel_custom,tempA=document.createElement(\"a\");tempA.href=config.html_url||config.js_url||config.module_url;if(!config.trust_external&&![\"localhost\",\"127.0.0.1\",location.hostname].includes(tempA.hostname)){if(!confirm(`Do you trust the external panel \"${config.name}\" at \"${tempA.href}\"?\n\nIt will have access to all data in Home Assistant.\n\n(Check docs for the panel_custom component to hide this message)`)){return}}if(!config.embed_iframe){Object(_util_custom_panel_load_custom_panel__WEBPACK_IMPORTED_MODULE_3__.a)(config).then(()=>{const element=Object(_util_custom_panel_create_custom_panel_element__WEBPACK_IMPORTED_MODULE_4__.a)(config);this._setProperties=props=>Object(_util_custom_panel_set_custom_panel_properties__WEBPACK_IMPORTED_MODULE_5__.a)(element,props);Object(_util_custom_panel_set_custom_panel_properties__WEBPACK_IMPORTED_MODULE_5__.a)(element,{panel,hass:this.hass,narrow:this.narrow,showMenu:this.showMenu,route:this.route});this.appendChild(element)},()=>{alert(`Unable to load custom panel from ${tempA.href}`)});return}window.customPanel=this;this.innerHTML=`\n    <style>\n      iframe {\n        border: 0;\n        width: 100%;\n        height: 100%;\n        display: block;\n      }\n    </style>\n    <iframe></iframe>\n    `;const iframeDoc=this.querySelector(\"iframe\").contentWindow.document;iframeDoc.open();iframeDoc.write(`<script src='${window.customPanelJS}'></script>`);iframeDoc.close()}disconnectedCallback(){super.disconnectedCallback();delete window.customPanel}_dataChanged(hass,narrow,showMenu,route){if(!this._setProperties)return;this._setProperties({hass,narrow,showMenu,route})}registerIframe(initialize,setProperties){initialize(this.panel,{hass:this.hass,narrow:this.narrow,showMenu:this.showMenu,route:this.route});this._setProperties=setProperties}}customElements.define(\"ha-panel-custom\",HaPanelCustom)},83:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",function(){return loadCSS});__webpack_require__.d(__webpack_exports__,\"b\",function(){return loadJS});__webpack_require__.d(__webpack_exports__,\"c\",function(){return loadModule});function _load(tag,url,type){return new Promise(function(resolve,reject){const element=document.createElement(tag);let attr=\"src\",parent=\"body\";element.onload=()=>resolve(url);element.onerror=()=>reject(url);switch(tag){case\"script\":element.async=!0;if(type){element.type=type}break;case\"link\":element.type=\"text/css\";element.rel=\"stylesheet\";attr=\"href\";parent=\"head\";}element[attr]=url;document[parent].appendChild(element)})}const loadCSS=url=>_load(\"link\",url),loadJS=url=>_load(\"script\",url),loadModule=url=>_load(\"script\",url,\"module\")}}]);"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourceRoot":""}